<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>

  <body>
<header class="header">
  <img id="avatar" src="img/Avatar.svg" alt="avatar">
</header>

<div class="name">
  <h1 id="user">...</h1>
</div>

<script>
  const tg = window.Telegram?.WebApp;

  const userEl = document.getElementById("user");
  const avatarEl = document.getElementById("avatar");

  if (!tg) {
    userEl.innerText = "–û—Ç–∫—Ä–æ–π —ç—Ç–æ –≤–Ω—É—Ç—Ä–∏ Telegram WebApp üôÇ";
  } else {
    tg.ready();
    tg.expand();

    const user = tg.initDataUnsafe?.user;

    const firstName = user?.first_name ?? "–¥—Ä—É–≥";
    userEl.innerText = "–ü—Ä–∏–≤–µ—Ç, " + firstName;

    const photoUrl = user?.photo_url;
    if (photoUrl) {
      avatarEl.src = photoUrl;
    }
  }
</script>

  </body>
</html>
